/* Font Utama */
html, body, [class*="css"] {
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
}

/* JUDUL: Hapus warna hardcoded, biar ikut tema browser (Hitam/Putih) */
h1 { font-weight: 700; font-size: 2.5rem; margin-bottom: 0rem; }
h3 { font-weight: 600; margin-top: 1rem; }

/* Sidebar: Tetap kita buat Gelap (Professional Look) */
section[data-testid="stSidebar"] {
    background-color: #2C3E50; /* Biru Gelap Professional */
}

/* Teks di Sidebar harus Putih agar terbaca di background gelap */
section[data-testid="stSidebar"] .stMarkdown, 
section[data-testid="stSidebar"] h1, section[data-testid="stSidebar"] h2,
section[data-testid="stSidebar"] h3, section[data-testid="stSidebar"] label,
section[data-testid="stSidebar"] span, section[data-testid="stSidebar"] div,
section[data-testid="stSidebar"] p {
    color: #ECF0F1 !important;
}

/* Input Box di Sidebar (Container) - ADAPTIF */
/* Default (Fallback) */
section[data-testid="stSidebar"] div[data-baseweb="select"] > div,
section[data-testid="stSidebar"] div[data-baseweb="input"] {
    background-color: #34495E;
    border-color: #5D6D7E;
    color: white;
}

@media (prefers-color-scheme: light) {
    section[data-testid="stSidebar"] div[data-baseweb="select"] > div,
    section[data-testid="stSidebar"] div[data-baseweb="input"] {
        background-color: #FFFFFF !important; /* Putih di Light Mode */
        border-color: #CCCCCC !important;
        color: #000000 !important;
    }
}

@media (prefers-color-scheme: dark) {
    section[data-testid="stSidebar"] div[data-baseweb="select"] > div,
    section[data-testid="stSidebar"] div[data-baseweb="input"] {
        background-color: #34495E !important; /* Abu Gelap di Dark Mode */
        border-color: #5D6D7E !important;
        color: white !important;
    }
}

/* --- FIX INPUT TEXT VISIBILITY (Angka/Huruf yang diketik) - ADAPTIF --- */
@media (prefers-color-scheme: light) {
    section[data-testid="stSidebar"] input { 
        color: #000000 !important; 
        -webkit-text-fill-color: #000000 !important; /* Paksa Hitam di Light Mode */
        caret-color: #000000 !important; 
    }
}

@media (prefers-color-scheme: dark) {
    section[data-testid="stSidebar"] input { 
        color: #FFFFFF !important; 
        -webkit-text-fill-color: #FFFFFF !important; /* Paksa Putih di Dark Mode */
        caret-color: #FFFFFF !important; 
    }
}

/* Tag/Multiselect items */
section[data-testid="stSidebar"] div[data-baseweb="tag"] { 
    background-color: #1ABC9C; 
}

/* --- FIX KHUSUS FILE UPLOADER DI SIDEBAR --- */
/* Target Area Dropzone (Kotak putus-putus) */
section[data-testid="stSidebar"] [data-testid="stFileUploaderDropzone"] {
    background-color: #34495E !important; /* Samakan dengan warna input lain */
    border: 1px dashed #ECF0F1 !important; /* Garis putus-putus putih */
    color: #ECF0F1 !important;
}

/* Target Teks Instruksi di dalam Uploader ("Drag and drop file here") */
section[data-testid="stSidebar"] [data-testid="stFileUploaderDropzone"] div,
section[data-testid="stSidebar"] [data-testid="stFileUploaderDropzone"] span,
section[data-testid="stSidebar"] [data-testid="stFileUploaderDropzone"] small {
    color: #ECF0F1 !important; /* Paksa teks jadi putih */
}

/* Target Tombol "Browse files" di dalam Uploader */
section[data-testid="stSidebar"] [data-testid="stFileUploaderDropzone"] button {
    background-color: #2C3E50 !important; /* Gelap sesuai sidebar */
    color: #ECF0F1 !important; /* Teks tombol putih */
    border: 1px solid #ECF0F1 !important; /* Border putih */
}
/* ------------------------------------------- */

/* Metrics Box - Gunakan warna netral transparan agar masuk di tema apa saja */
div[data-testid="stMetric"] {
    background-color: rgba(128, 128, 128, 0.1); /* Abu transparan */
    border: 1px solid rgba(128, 128, 128, 0.2);
    padding: 15px; 
    border-radius: 10px; 
}

/* Tombol Utama & Sekunder */
div.stButton > button[kind="primary"] { width: 100%; border-radius: 8px; font-weight: 600; }
div.stButton > button[kind="secondary"] { width: 100%; border-radius: 8px; border: 1px solid #E74C3C; color: #E74C3C; }

.block-container { padding-top: 2rem; }

/* Ready Box Adaptif */
.ready-box {
    padding: 20px;
    background-color: rgba(26, 188, 156, 0.1); /* Hijau transparan */
    border: 1px solid #1abc9c;
    border-radius: 10px;
    color: #16a085; /* Warna teks tetap hijau */
    text-align: center;
    margin-bottom: 20px;
}

/* Info Sidebar */
.sidebar-info {
    background-color: #34495E;
    padding: 15px;
    border-radius: 8px;
    font-size: 0.85rem;
    margin-bottom: 15px;
    border-left: 4px solid #1ABC9C;
    color: #ECF0F1;
}

/* Footer */
.footer {
    position: fixed;
    left: 0;
    bottom: 0;
    width: 100%;
    background-color: #F8F9FA;
    color: #7F8C8D;
    text-align: center;
    padding: 10px 0;
    font-size: 0.85rem;
    border-top: 1px solid #E9ECEF;
    z-index: 100;
}

/* Sembunyikan background footer di dark mode bawaan browser agar tidak mencolok putih */
@media (prefers-color-scheme: dark) {
    .footer {
        background-color: #0E1117;
        border-top: 1px solid #333;
        color: #888;
    }
}